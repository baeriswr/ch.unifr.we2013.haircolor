<% provide(:title, 'Article Search') %>
<h1>Article Search</h1>

<div class="search">


  <%= form_tag search_articles_path, :method => "get" do %>
      <%= label_tag(:q, "Search:") %>
      <%= text_field_tag :search, params[:search] %>
      <%= submit_tag "Search", :name => nil %>
  <% end %>

</div>


<% if @articles.results.size > 0 %>

    <h2>Results</h2>

    <%= render :partial => "article", :collection => @articles %>

    <div class="results">
    <% @articles.each_hit_with_result do |hit, article| %>
        <h3><%= link_to article.name, article %></h3>
        <strong><%= hit.score %></strong>
        <p><%= truncate(article.manufacturer, :length => 100) %></p>
        <% end %>
    </div>

<% else %>
    <p>Your query returned no results.</p>

<% end %>